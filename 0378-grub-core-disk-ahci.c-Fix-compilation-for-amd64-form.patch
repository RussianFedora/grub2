From 5868a0441dd295918687d7751aec3d0435ad3a28 Mon Sep 17 00:00:00 2001
From: Vladimir 'phcoder' Serbinenko <phcoder@gmail.com>
Date: Sun, 28 Apr 2013 15:17:43 +0200
Subject: [PATCH 378/482] 	* grub-core/disk/ahci.c: Fix compilation for
 amd64 (format warnings).

---
 ChangeLog             | 4 ++++
 grub-core/disk/ahci.c | 8 ++++----
 2 files changed, 8 insertions(+), 4 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index 727a8c8..8b4206e 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,5 +1,9 @@
 2013-04-28  Vladimir Serbinenko  <phcoder@gmail.com>
 
+	* grub-core/disk/ahci.c: Fix compilation for amd64 (format warnings).
+
+2013-04-28  Vladimir Serbinenko  <phcoder@gmail.com>
+
 	* include/grub/efi/api.h (GRUB_EFI_DEVICE_PATH_LENGTH): Use
 	grub_get_unaligned16 rather than shifts.
 
diff --git a/grub-core/disk/ahci.c b/grub-core/disk/ahci.c
index 47fd423..e617042 100644
--- a/grub-core/disk/ahci.c
+++ b/grub-core/disk/ahci.c
@@ -531,8 +531,8 @@ grub_ahci_pciinit (grub_pci_device_t dev,
 		      adevs[i]->hba->ports[adevs[i]->port].sata_error);
 
 	grub_dprintf ("ahci", "offset: %x, tfd:%x, CMD: %x\n",
-		      (char *) &adevs[i]->hba->ports[adevs[i]->port].task_file_data - 
-		      (char *) adevs[i]->hba,
+		      (int) ((char *) &adevs[i]->hba->ports[adevs[i]->port].task_file_data - 
+			     (char *) adevs[i]->hba),
 		      adevs[i]->hba->ports[adevs[i]->port].task_file_data,
 		      adevs[i]->hba->ports[adevs[i]->port].command);
 
@@ -545,8 +545,8 @@ grub_ahci_pciinit (grub_pci_device_t dev,
     if (adevs[i])
       {
 	grub_dprintf ("ahci", "offset: %x, tfd:%x, CMD: %x\n",
-		      (char *) &adevs[i]->hba->ports[adevs[i]->port].task_file_data - 
-		      (char *) adevs[i]->hba,
+		      (int) ((char *) &adevs[i]->hba->ports[adevs[i]->port].task_file_data - 
+			     (char *) adevs[i]->hba),
 		      adevs[i]->hba->ports[adevs[i]->port].task_file_data,
 		      adevs[i]->hba->ports[adevs[i]->port].command);
 
-- 
1.8.2.1

