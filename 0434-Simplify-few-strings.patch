From 10b1a434c45df97992777369eed86901e33481fb Mon Sep 17 00:00:00 2001
From: Vladimir 'phcoder' Serbinenko <phcoder@gmail.com>
Date: Tue, 7 May 2013 11:44:15 +0200
Subject: [PATCH 434/482] 	Simplify few strings.

---
 ChangeLog                   | 4 ++++
 grub-core/fs/zfs/zfscrypt.c | 4 ++--
 grub-core/lib/relocator.c   | 3 ++-
 grub-core/loader/machoXX.c  | 4 ++--
 4 files changed, 10 insertions(+), 5 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index 9c8a14a..92af2dd 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,5 +1,9 @@
 2013-05-07  Vladimir Serbinenko  <phcoder@gmail.com>
 
+	Simplify few strings.
+
+2013-05-07  Vladimir Serbinenko  <phcoder@gmail.com>
+
 	Mark few forgotten strings for translation.
 
 2013-05-07  Vladimir Serbinenko  <phcoder@gmail.com>
diff --git a/grub-core/fs/zfs/zfscrypt.c b/grub-core/fs/zfs/zfscrypt.c
index 4ea53b8..d5f9dcd 100644
--- a/grub-core/fs/zfs/zfscrypt.c
+++ b/grub-core/fs/zfs/zfscrypt.c
@@ -263,8 +263,8 @@ algo_decrypt (grub_crypto_cipher_handle_t cipher, grub_uint64_t algo,
       return grub_gcm_decrypt (cipher, out, in, psize, mac_out, nonce,
 			       15 - l, m);
     default:
-      return grub_error (GRUB_ERR_NOT_IMPLEMENTED_YET, "algorithm %" 
-			 PRIuGRUB_UINT64_T " is not supported yet", algo);
+      return grub_error (GRUB_ERR_NOT_IMPLEMENTED_YET, "algorithm %lld is not supported yet",
+			 (long long) algo);
     }
 }
 
diff --git a/grub-core/lib/relocator.c b/grub-core/lib/relocator.c
index e085514..b86a6c0 100644
--- a/grub-core/lib/relocator.c
+++ b/grub-core/lib/relocator.c
@@ -599,7 +599,8 @@ malloc_in_range (struct grub_relocator *rel,
       do 
 	{
 	  if (p->magic != GRUB_MM_FREE_MAGIC)
-	    grub_fatal (__FILE__":%d free magic broken at %p (0x%x)\n",
+	    grub_fatal ("%s:%d free magic broken at %p (0x%x)\n",
+			__FILE__,
 			__LINE__, p, p->magic);
 	  if (p == (grub_mm_header_t) (r + 1))
 	    {
diff --git a/grub-core/loader/machoXX.c b/grub-core/loader/machoXX.c
index 3a382b3..95c3fe5 100644
--- a/grub-core/loader/machoXX.c
+++ b/grub-core/loader/machoXX.c
@@ -55,7 +55,7 @@ SUFFIX (grub_macho_parse) (grub_macho_t macho, const char *filename)
 
   if (head.macho.magic != GRUB_MACHO_MAGIC)
     {
-      grub_error (GRUB_ERR_BAD_OS, "invalid Mach-O " XX "-bit header");
+      grub_error (GRUB_ERR_BAD_OS, "invalid Mach-O  header");
       macho->offsetXX = -1;
       return;
     }
@@ -154,7 +154,7 @@ grub_macho_cmds_iterate (grub_macho_t macho,
     }
 
   if (! macho->cmdsXX)
-    return grub_error (GRUB_ERR_BAD_OS, "couldn't find " XX "-bit Mach-O");
+    return grub_error (GRUB_ERR_BAD_OS, "couldn't find Mach-O commands");
   hdrs = macho->cmdsXX;
   for (i = 0; i < macho->ncmdsXX; i++)
     {
-- 
1.8.2.1

